<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dynamo Simulation</title>
    <style>
        body {
            width: 100%;
        }
    </style>
</head>

<body>
    <button id="start">Run/Stop</button>
    <button id="step">Step</button>
    <div style="display: flex; flex-direction: row; width: 80%;">
        <div class="chart-container" style="position: relative; flex-grow: 1; max-width: 50%;">
            <canvas id="myChart" width="400" height="400"></canvas>
        </div>
        <div>
            <h2>Controls</h2>
            <div>
                <label for="resistance">Resistance</label>
                <div>
                    <input type="range" id="resistance" min="2" max="100" value="10" step="1">
                </div>
                <label for="speed">Speed</label>
                <div>
                    <input type="range" id="speed" min="0" max="45" value="25" step="1">
                </div>
                <label for="speed">OCR1A</label>
                <div>
                    <input type="range" id="rangeocr1a" min="0" max="511" value="256" step="1">
                </div>
            </div>
            <h2>State</h2>
            <h3>Outputs</h3>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Charge A</td>
                        <td id="chargeA"></td>
                    </tr>
                    <tr>
                        <td>Charge B</td>
                        <td id="chargeB"></td>
                    </tr>
                    <tr>
                        <td>Dynamo Off</td>
                        <td id="dynamoOff"></td>
                    </tr>
                    <tr>
                        <td>DischargeA</td>
                        <td id="dischargeA"></td>
                    </tr>
                    <tr>
                        <td>DischargeB</td>
                        <td id="dischargeB"></td>
                    </tr>
                </tbody>
            </table>
            <h3>Program</h3>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Driving State</td>
                        <td id="drivingState"></td>
                    </tr>
                    <tr>
                        <td>Max Discharge Value</td>
                        <td id="maxDischargeValue"></td>
                    </tr>
                    <tr>
                        <td>Dynamo Frequency</td>
                        <td id="dynamoFrequency"></td>
                    </tr>
                    <tr>
                        <td>Charge Measurement Count</td>
                        <td id="chargeMeasurementCount"></td>
                    </tr>
                    <tr>
                        <td>Charge Current Sum</td>
                        <td id="chargeCurrentSum"></td>
                    </tr>
                    <tr>
                        <td>Charge Voltage Sum</td>
                        <td id="chargeVoltageSum"></td>
                    </tr>
                    <tr>
                        <td>OCR1A</td>
                        <td id="ocr1a"></td>
                    </tr>
                    <tr>
                        <td>TCNT1</td>
                        <td id="tcnt1"></td>
                    </tr>
                    <tr>
                        <td>Power</td>
                        <td id="power"></td>
                    </tr>
                    <tr>
                        <td>MPPT direction</td>
                        <td id="mpptDirection"></td>
                    </tr>
                    <tr>
                        <td>MPPT step timing</td>
                        <td id="mpptStepTiming"></td>
                    </tr>
                    <tr>
                        <td>MPPT step size</td>
                        <td id="mpptStepSize"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>


    <script type="module" src="index.js"></script>

</body>

</html>